@inherits ScriptDialogBase
@using Hyponome.Client.Components.ScriptViewer
@using Hyponome.Client.Components.ScriptValidation

<div class="modal fade" id="scriptModal_@(Parent.File.Sha)" tabindex="-1" role="dialog" aria-labelledby="scriptModalTitle_@(Parent.File.Sha)" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header py-1">
                <h6 class="modal-title" id="scriptModalTitle_@(Parent.File.Sha)">
                    <small class="text-muted"><i class="far fa-file-code"></i> @Parent.File.FileName</small>
                </h6>
                <button type="button" class="close btn-sm" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <ScriptViewer
                    Scripts="@Parent.Scripts"
                    ScriptMode="@Parent.ScriptMode"
                    File="@Parent.File"/>
            </div>
            <div class="modal-footer justify-content-start p-2 @(!Parent.ScriptValidationInProgress ? Parent.ScriptValidationSucceeded ? "bg-success" : "bg-warning" : "")">
                <ValidationDetails Errors="@Parent.ScriptErrors"/>
            </div>
        </div>
    </div>
</div>